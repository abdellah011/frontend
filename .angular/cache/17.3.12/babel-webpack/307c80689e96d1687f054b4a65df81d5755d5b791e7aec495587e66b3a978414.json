{"ast":null,"code":"onLogin();\n{\n  if (this.loginForm.valid) {\n    this.auth.login(this.loginForm.value).subscribe({\n      next: res => {\n        console.log(\"Réponse du serveur:\", res); // ✅ Vérifie ce que l'API retourne\n        if (res?.Message) {\n          this.toast.success({\n            detail: \"Succès\",\n            summary: res.Message,\n            duration: 5000\n          });\n          this.router.navigate(['../../pages/dashboard']);\n        } else {\n          console.error(\"Réponse invalide :\", res);\n          this.toast.danger({\n            detail: \"Erreur\",\n            summary: \"Réponse du serveur invalide\",\n            duration: 5000\n          });\n        }\n      },\n      error: err => {\n        console.log(\"Erreur API:\", err); // ✅ Vérifie le message d'erreur reçu\n        this.toast.danger({\n          detail: \"Erreur\",\n          summary: err?.error?.Message || \"Une erreur est survenue\",\n          duration: 5000\n        });\n      }\n    });\n  } else {\n    console.log('Formulaire non valide');\n    this.validateFormFields(this.loginForm);\n    this.toast.warning({\n      detail: \"Attention\",\n      summary: \"Le formulaire n'est pas valide\",\n      duration: 5000\n    });\n  }\n}","map":null,"metadata":{},"sourceType":"script","externalDependencies":[]}