{"ast":null,"code":"var _a;\n\nimport { __decorate, __metadata, __param } from \"tslib\";\nimport { Component, Inject } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { User } from 'app/shared/user/user.model';\nimport { UserServiceTsService } from 'app/shared/user/';\nlet AddUserDialogComponent = class AddUserDialogComponent {\n  constructor(dialogRef, data, userService // ✅ Injecter le service\n  ) {\n    this.dialogRef = dialogRef;\n    this.data = data;\n    this.userService = userService;\n    this.user = new User(0, '', '', '', '');\n    this.errorMessage = ''; // ✅ Stocker le message d'erreur\n  }\n\n  onNoClick() {\n    this.dialogRef.close();\n  }\n\n  saveUser() {\n    if (this.user.name.trim() && this.user.email.trim()) {\n      console.log('Saving user:', this.user);\n      this.userService.addUser(this.user).subscribe(response => {\n        alert('Utilisateur ajouté avec succès !');\n        this.dialogRef.close(response); // ✅ Ferme la boîte de dialogue avec l'utilisateur ajouté\n      }, error => {\n        this.errorMessage = error;\n        alert(error); // ✅ Afficher une alerte si l'email existe déjà\n      });\n    } else {\n      alert('Le nom et l\\'email sont obligatoires.');\n    }\n  }\n\n};\nAddUserDialogComponent = __decorate([Component({\n  selector: 'app-add-user-dialog',\n  templateUrl: './add-user-dialog.component.html',\n  styleUrls: ['./add-user-dialog.component.css']\n}), __param(1, Inject(MAT_DIALOG_DATA)), __metadata(\"design:paramtypes\", [MatDialogRef, Object, typeof (_a = typeof UserServiceTsService // ✅ Injecter le service\n!== \"undefined\" && UserServiceTsService // ✅ Injecter le service\n) === \"function\" ? _a : Object])], AddUserDialogComponent);\nexport { AddUserDialogComponent };","map":null,"metadata":{},"sourceType":"module"}